<?php

namespace CoreBundle\Outils;

use Doctrine\ORM\EntityManagerInterface;

class Outils {

  /**
  * @var EntityManagerInterface
  */
  private $em;

  public function __construct(EntityManagerInterface $em)
  {
    $this->em = $em;
  }

  public function purge($repository, $id)
  {
    /* On sélectionne le repository donné par le controller puis on effectue les opérations de suppression
    demandées */
    $purge = $this->em->getRepository($repository)->find($id);
    $this->em->remove($id);
    $this->em->flush();
  }
}

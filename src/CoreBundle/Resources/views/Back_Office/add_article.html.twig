{% extends ('CoreBundle::layout.html.twig')%}

{% block body %}
<div class="container">
  <p class="text-center"><a href="{{ path('back_office') }}">Retour</a></p>
  <!-- On affiche les messages flash -->
    {% for message in app.session.flashbag.get('success') %}
      <div class="alert alert-success">Message flash : {{message}}</div>
    {% endfor %}
  <div class="well">
    {{ form_start(form, {'attr': {'class': 'form-horinzontal'}}) }}
      {{ form_errors(form) }}
      <div class="form-group">
        {{ form_label(form.titre, "Titre de l'article", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

        {{form_errors(form.titre)}}

        {{form_widget(form.titre, {'attr': {'class': 'form-control'}}) }}
      </div>
      <div class="form-group">
        {{ form_label(form.auteur, "Auteur", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

        {{form_errors(form.auteur)}}

        {{form_widget(form.auteur, {'attr': {'class': 'form-control'}}) }}
      </div>
      <div class="form-group">
        {{ form_label(form.contenu, "Contenu de l'article", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

        {{ form_errors(form.contenu)}}

        {{ form_widget(form.contenu, {'attr': {'class': 'form-control'}}) }}
      </div>
      <div class="form-group">
        {{ form_label(form.datePublication, "Choisir une date de publication", {'label_attr': {'class': 'control-label'}}) }}

        {{ form_errors(form.datePublication)}}

        {{ form_widget(form.datePublication, {'attr': {'class': 'control-label'}}) }}
      </div>
      <div class="form-group">
        <p class="alert alert-danger text-center">
        Attention : Tout catégorie doit être rentrée en majuscules et ne doit se trouver que dans une seule catégorie !
          <br>
        Exemple: TEAM || MEMBRE || KRMA
        </p>
        {{ form_label(form.categorie, "Choisir une catégorie", {'label_attr': {'class': 'control-label'}}) }}
        {{ form_errors(form.categorie) }}
        {{ form_widget(form.categorie, {'attr': {'class': 'form-control'}}) }}
      </div>
      <div class="form-group">
        {{form_widget(form.save, {'attr': {'class': 'btn btn-danger'}}) }}
      </div>
    {{ form_end(form) }}
  </div>
</div>
{% endblock %}
